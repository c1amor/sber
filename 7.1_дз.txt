Я попробовал установить данную роль на виртуальную машину, но там возникли ошибки.
Так как нет возможности легко откатить изменения, внесенные плейбуком, я решил,
что проще будет отладить код в контейнере докера, а затем уже переносить его на виртуальную машину,
но как оказалось, это тоже проблематично, так как я подключался по ssh к контейнеру, а не через docker подключение.

ip виртулки   = 192.168.0.101
ip контейнера = 172.17.0.2

Дирректория проекта:
/opt/ansible/

Каталог roles содержит мою версию роли.
Так же здесь лежит конфиг, инвентори файл и плейбук.
Плюс к этому здесь лежит конфиг sshd, который почему-то не генерируется утилитой ssh-keygen.
Положил сюда докерфайл, чтобы было удобнее сто раз перезапускать контейнер.
Каталог ssh содержит ключи для доступа по ssh к контейнеру.

Запуск контейнера:
cd /opt/ansible/
docker build --tag centos7 .
docker run -it --name centos7 -v ./ssh:/etc/ssh --privileged centos7

Остановить и удалить контейнер:
docker rm -f centos7

Если что-то идет не так:
rm -f ssh/* ; cp sshd_config ssh/
ssh-keygen -q -N "" -f ssh/ssh_host_rsa_key
vi ~/.ssh/known_hosts -- удалить строку с ip контейнера
Затем останавливаем контейнер и запускаем заново, должна быть строка: [  OK  ] Started OpenSSH server daemon.

Проверка связи с контейнером:
ansible docker-centos7 -m ping

Сочетание клавиш для выхода из контейнера:
ctrl-p + ctrl-q

Коннект к контейнеру:
ssh root@172.17.0.2 -p 22

Запуск моего плейбука:
cd /opt/ansible/
ansible-playbook playbook.yml

Статус nginx:
docker exec centos7 systemctl status nginx

curl http://172.17.0.2:80

Проброс порта для доступа к контейнеру через ip виртуалки:
ssh -L 80:172.17.0.2:80 root@192.168.0.101 -p 22

Доступ из брузера:
http://localhost:80/

Посмотреть логи:
docker exec centos7 tail -f /var/log/nginx/access.log